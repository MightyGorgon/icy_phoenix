<?php
/**
*
* @package Icy Phoenix
* @version $Id$
* @copyright (c) 2008 Icy Phoenix
* @license http://opensource.org/licenses/gpl-license.php GNU Public License
*
*/

define('TEMPLATE_CONFIG', true);

global $config, $user, $lang, $lofi_bots_parsing;

$full_server_url = create_server_url();
$default_images_root = 'templates/default/images/';
$common_images = 'templates/common/images/';
$current_template_images_root = $current_template_path . '/images/';
$current_template_images = $current_template_path . '/images/' . $color . '/';
$current_template_buttons = $current_template_path . '/images/' . $color . '/buttons/';
$buttons_lang_root = isset($buttons_lang_root) ? $buttons_lang_root : $current_template_images;
$template_dir = $current_template_path;
$imageset_dir = $template_dir . '/images/' . $color . '/';
$buttons_dir = $template_dir . '/images/' . $color . '/buttons/';
$current_lang = 'lang_' . $config['default_lang'] . '/';
$tpl_lang = $config['default_lang'];
$img_fade = isset($img_fade) ? $img_fade : '" class="imgfade" onmouseover="slowhigh(this)" onmouseout="slowlow(this)';
$img_fade_nm = isset($img_fade_nm) ? $img_fade_nm : '" class="imgfade_nm" onmouseover="slowhigh(this)" onmouseout="slowlow(this)';
$show_hide_padding = isset($show_hide_padding) ? $show_hide_padding : 'padding-top: 3px; padding-right: 0px; ';
$extra_padding = isset($extra_padding) ? $extra_padding : '';
$extra_css_js = isset($extra_css_js) ? $extra_css_js : '';
$menu_sep_char = isset($menu_sep_char) ? $menu_sep_char : '|';
define('MENU_SEP_CHAR', $menu_sep_char);

if (!file_exists($buttons_lang_root . $current_lang))
{
	$current_lang = 'lang_english/';
	$tpl_lang = 'english';
}

$buttons_lang_folder = $buttons_lang_root . $current_lang;

// MG Smart Tables - BEGIN
$light_template = false;
if ($lofi_bots_parsing || !empty($_COOKIE['lofi']) || !empty($_GET['lofi']) || !empty($_POST['lofi']))
{
	$light_template = ($lofi_bots_parsing == true) ? true : (!empty($_COOKIE['lofi']) ? true : (!empty($_GET['lofi']) ? true : (!empty($_POST['lofi']) ? true : false)));
	//$light_template = true;
}

if ($light_template)
{
	$images['page_begin'] = '';
	$images['page_end'] = '';

	$images['tbl_h_l'] = '<table class="forumline" width="100%" cellspacing="0" style="margin-bottom:0px;"><tr><td class="row-header">';
	$images['tbl_h_c'] = '';
	$images['tbl_h_r'] = '</td></tr></table>';

	$images['tbl_b_l'] = '';
	$images['tbl_b_c'] = '';
	$images['tbl_b_r'] = '';

	$images['tbl_f_l'] = '';
	$images['tbl_f_c'] = '';
	$images['tbl_f_r'] = '';

	$images['tbl_h_l_house'] = $images['tbl_h_l'];
	$images['tbl_h_l_alt'] = $images['tbl_h_l'];
	$images['tbl_h_r_alt'] = $images['tbl_h_r'];

	$template_copyright_link = '<span class="copyright">Design by <a href="http://www.mightygorgon.com" target="_blank">Mighty Gorgon</a>&nbsp;</span>';
}
// MG Smart Tables - END

if (defined('IN_ADMIN') || defined('IN_CMS'))
{
	global $color;

	if((strlen(IP_ROOT_PATH) > 0) && (substr($template_dir, 0, strlen(IP_ROOT_PATH)) !== IP_ROOT_PATH))
	{
		$template_dir = IP_ROOT_PATH . $template_dir;
	}

	$show_hide_padding = 'padding-top: 6px; padding-right: 6px; ';
	$buttons_extension = 'gif';
	$common_images = IP_ROOT_PATH . 'templates/common/images/';
	$current_template_images = $common_images;
	$current_template_buttons = $common_images;
	$default_images_root = $common_images;

	// MG Smart Tables - BEGIN
	$light_template = false;
	$_COOKIE['lofi'] = false;
	$_GET['lofi'] = false;
	$_POST['lofi'] = false;

	if (defined('IN_ADMIN'))
	{
		/*
		// NEW ACP - BEGIN
		$extra_padding = in_array($color, $png_buttons_colors) ? '" style="margin-bottom: 2px;' : '';
		$nifty_corners = false;
		$images['page_begin'] = '<div id="wrapper"><div id="wrapper-inner">';
		$images['page_end'] = '</div></div>';
		$images['tbl_h_l'] = '<div class="roundedbox"><h3 class="rb-cyan">';
		$images['tbl_h_c'] = '';
		$images['tbl_h_r'] = '</h3><div class="inside inside-text">';
		$images['tbl_f_l'] = '</div>';
		$images['tbl_f_c'] = '';
		$images['tbl_f_r'] = '</div>';
		// NEW ACP - END
		*/
		$images['page_begin'] = '<div class="leftshadow"><div class="rightshadow"><div id="wrapper-inner">';
		$images['page_end'] = '</div></div></div>';
		$images['tbl_h_l'] = '<div class="tbl"><div class="tbl-h-l"><div class="tbl-h-r"><div class="tbl-h-c"><div class="tbl-title">';
		$images['tbl_h_c'] = '';
		$images['tbl_h_r'] = '</div></div></div></div>';
		$images['tbl_f_l'] = '<div class="tbl-f-l"><div class="tbl-f-r"><div class="tbl-f-c">&nbsp;';
		$images['tbl_f_c'] = '';
		$images['tbl_f_r'] = '</div></div></div></div>';
	}
	else
	{
		$images['page_begin'] = '<div id="wrapper"><div id="wrapper-inner">';
		$images['page_end'] = '</div></div>';
		$images['tbl_h_l'] = '<div class="roundedbox"><h3 class="rb-cyan">';
		$images['tbl_h_c'] = '';
		$images['tbl_h_r'] = '</h3><div class="inside inside-text">';
		$images['tbl_f_l'] = '</div>';
		$images['tbl_f_c'] = '';
		$images['tbl_f_r'] = '</div>';
	}
	// MG Smart Tables - END
}

$images['sitelogo'] = $current_template_images . 'sitelogo_small.png';
$images['spacer'] = $default_images_root . 'spacer.gif';
$images['menu_sep'] = $current_template_buttons . 'menu_sep.gif';

$icons_types = array('', '_alt', '_rounded');
$icons_status = array('up', 'right', 'down', 'left');
for ($l = 0; $l < sizeof($icons_types); $l++)
{
	for ($m = 0; $m < sizeof($icons_status); $m++)
	{
		$images['arrow' . $icons_types[$l] . '_' . $icons_status[$m]] = $current_template_buttons . 'arrow_' . $icons_status[$m] . $icons_types[$l] . '.gif' . (($icons_types[$l] == '_rounded') ? $img_fade : '');
	}
}
unset($icons_types);
unset($icons_status);
$images['cal_up_arrow'] = $default_images_root . 'spacer.gif';
$images['cal_down_arrow'] = $images['arrow_down'];

if (!defined('IN_ADMIN') && !defined('IN_CMS'))
{
	$cms_images_root = $default_images_root;

	// Forums icons
	/*
	$forums_images_names = array('forum_nor_read', 'forum_nor_unread', 'forum_nor_locked_read', 'forum_nor_locked_unread', 'forum_sub_read', 'forum_sub_unread', 'forum_sub_locked_read', 'forum_sub_locked_unread', 'forum_link', 'forum_nor_ar', 'forum_sub_ar');
	$forums_images = array('forum_nor_read', 'forum_nor_unread', 'forum_nor_locked_read', 'forum_nor_locked_read', 'forum_sub_read', 'forum_sub_unread', 'forum_nor_locked_read', 'forum_nor_locked_read', 'forum_link', 'forum_nor_ar_read', 'forum_sub_ar_read');
	for ($l = 0; $l < sizeof($forums_images_names); $l++)
	{
		$images[$forums_images_names[$l]] = $current_template_buttons . $forums_images[$l] . '.' . $images_extension . $img_fade;
	}
	unset($forums_images_names);
	unset($forums_images);
	*/
	$images['forum_nor_read'] = $current_template_buttons . 'forum_nor_read.' . $images_extension . $img_fade;
	$images['forum_nor_unread'] = $current_template_buttons . 'forum_nor_unread.' . $images_extension . $img_fade;
	$images['forum_nor_locked_read'] = $current_template_buttons . 'forum_nor_locked_read.' . $images_extension . $img_fade;
	$images['forum_nor_locked_unread'] = $current_template_buttons . 'forum_nor_locked_read.' . $images_extension . $img_fade;
	$images['forum_sub_read'] = $current_template_buttons . 'forum_sub_read.' . $images_extension . $img_fade;
	$images['forum_sub_unread'] = $current_template_buttons . 'forum_sub_unread.' . $images_extension . $img_fade;
	$images['forum_sub_locked_read'] = $current_template_buttons . 'forum_nor_locked_read.' . $images_extension . $img_fade;
	$images['forum_sub_locked_unread'] = $current_template_buttons . 'forum_nor_locked_read.' . $images_extension . $img_fade;
	$images['forum_link'] = $current_template_buttons . 'forum_link.' . $images_extension . $img_fade;
	$images['forum_nor_ar'] = $current_template_buttons . 'forum_nor_ar_read.' . $images_extension . $img_fade;
	$images['forum_sub_ar'] = $current_template_buttons . 'forum_sub_ar_read.' . $images_extension . $img_fade;

	// Topic icons
	$icons_types = array('glo', 'ann', 'imp', 'hot', 'nor', 'ar');
	$icons_status = array('read', 'read_own', 'unread', 'unread_own', 'locked_read', 'locked_read_own', 'locked_unread', 'locked_unread_own');
	for ($l = 0; $l < sizeof($icons_types); $l++)
	{
		for ($m = 0; $m < sizeof($icons_status); $m++)
		{
			$icons_status[$m] = ($icons_types[$l] == 'ar') ? 'read' : $icons_status[$m];
			$images['topic_' . $icons_types[$l] . '_' . $icons_status[$m]] = $current_template_buttons . 'topic_' . $icons_types[$l] . '_' . $icons_status[$m] . '.' . $images_extension . $img_fade;
		}
	}
	unset($icons_types);
	unset($icons_status);

	// Default IM icons
	$im_icons_array = array('chat', 'chat_hidden', 'chat_offline', 'chat_online', 'aim', 'facebook', 'flickr', 'googleplus', 'icq', 'jabber', 'linkedin', 'msn', 'skype', 'twitter', 'yahoo', 'youtube', 'status_hidden', 'status_offline', 'status_online');
	foreach ($im_icons_array as $icon_type)
	{
		$images['icon_im_' . $icon_type] = $default_images_root . 'icon_im_' . $icon_type . '.png' . $img_fade;
	}
	unset($im_icons_array);
	unset($icon_type);

	// PM folders
	$images['pm_inbox'] = $current_template_buttons . 'pm_inbox.' . $images_extension;
	$images['pm_outbox'] = $current_template_buttons . 'pm_outbox.' . $images_extension;
	$images['pm_savebox'] = $current_template_buttons . 'pm_savebox.' . $images_extension;
	$images['pm_sentbox'] = $current_template_buttons . 'pm_sentbox.' . $images_extension;

	// Topic icons
	$images['topic_watch'] = $default_images_root . 'topic_watch_on.png';
	$images['topic_un_watch'] = $default_images_root . 'topic_watch_off.png';
	$images['topic_ar_switch_on'] = $default_images_root . 'accept.png';
	$images['topic_ar_switch_off'] = $default_images_root . 'delete.png';
	$images['topic_kb_on'] = $default_images_root . 'topic_kb_on.png';
	$images['topic_kb_off'] = $default_images_root . 'topic_kb_off.png';

	// Large buttons
	$images['post_new'] = $buttons_lang_folder . 'button_new_topic.' . $buttons_extension . $img_fade;
	$images['post_locked'] = $buttons_lang_folder . 'button_locked.' . $buttons_extension . $img_fade;
	$images['reply_new'] = $buttons_lang_folder . 'button_post_reply.' . $buttons_extension . $img_fade;
	$images['reply_locked'] = $buttons_lang_folder . 'button_locked.' . $buttons_extension . $img_fade;
	$images['quick_reply'] = $buttons_lang_folder . 'button_quick_reply.' . $buttons_extension . $img_fade;
	$images['thanks'] = $buttons_lang_folder . 'button_thanks.' . $buttons_extension . $img_fade;
	$images['pm_replymsg'] = $buttons_lang_folder . 'button_post_reply.' . $buttons_extension . $img_fade;
	$images['pm_postmsg'] = $buttons_lang_folder . 'button_new_post.' . $buttons_extension . $img_fade;

	// MOD CP
	$images['topic_mod_lock'] = $buttons_lang_folder . 'modcp_lock.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_unlock'] = $buttons_lang_folder . 'modcp_unlock.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_copy'] = $buttons_lang_folder . 'modcp_copy.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_split'] = $buttons_lang_folder . 'modcp_split.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_move'] = $buttons_lang_folder . 'modcp_move.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_delete'] = $buttons_lang_folder . 'modcp_delete.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_merge'] = $buttons_lang_folder . 'modcp_merge.' . $buttons_extension . $img_fade . $extra_padding;
	$images['topic_mod_bin'] = $buttons_lang_folder . 'modcp_bin.' . $buttons_extension . $img_fade . $extra_padding;
	$images['normal_post'] = $buttons_lang_folder . 'modcp_normal.' . $buttons_extension . $img_fade;
	$images['sticky_post'] = $buttons_lang_folder . 'modcp_sticky.' . $buttons_extension . $img_fade;
	$images['announce_post'] = $buttons_lang_folder . 'modcp_announce.' . $buttons_extension . $img_fade;
	$images['gannounce_post'] = $buttons_lang_folder . 'modcp_global.' . $buttons_extension . $img_fade;

	// Buttons And Icons
	$images['icon_edit'] = $buttons_lang_folder . 'icon_post_edit.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_delpost'] = $buttons_lang_folder . 'icon_post_delete.' . $buttons_extension . $img_fade . $extra_padding;
	$images['pm_quotemsg'] = $buttons_lang_folder . 'icon_post_quote.' . $buttons_extension . $img_fade;
	$images['pm_editmsg'] = $buttons_lang_folder . 'icon_post_edit.' . $buttons_extension . $img_fade;
	$images['icon_quote'] = $buttons_lang_folder . 'icon_post_quote.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_quick_quote'] = $buttons_lang_folder . 'icon_post_quick_quote.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_offtopic'] = $buttons_lang_folder . 'icon_post_offtopic.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_view'] = $buttons_lang_folder . 'icon_post_view.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_download'] = $buttons_lang_folder . 'icon_post_download.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_approve'] = $buttons_lang_folder . 'icon_post_approve.' . $buttons_extension . $img_fade;
	$images['icon_unapprove'] = $buttons_lang_folder . 'icon_post_unapprove.' . $buttons_extension . $img_fade;
	$images['icon_censor'] = $buttons_lang_folder . 'icon_post_censor.' . $buttons_extension . $img_fade;
	$images['kb_title'] = $buttons_lang_folder . 'kb.gif' . $img_fade;

	$images['icon_search'] = $buttons_lang_folder . 'icon_user_search.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_profile'] = $buttons_lang_folder . 'icon_user_profile.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_pm'] = $buttons_lang_folder . 'icon_user_pm.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_email'] = $buttons_lang_folder . 'icon_user_email.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_www'] = $buttons_lang_folder . 'icon_user_www.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_ip'] = $buttons_lang_folder . 'icon_user_ip.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_online'] = $buttons_lang_folder . 'icon_user_online.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_offline'] = $buttons_lang_folder . 'icon_user_offline.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_hidden'] = $buttons_lang_folder . 'icon_user_hidden.' . $buttons_extension . $img_fade . $extra_padding;

	$images['icon_aim'] = $buttons_lang_folder . 'icon_im_aim.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_icq'] = $buttons_lang_folder . 'icon_im_icq.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_msnm'] = $buttons_lang_folder . 'icon_im_msn.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_skype'] = $buttons_lang_folder . 'icon_im_skype.' . $buttons_extension . $img_fade . $extra_padding;
	$images['icon_yim'] = $buttons_lang_folder . 'icon_im_yahoo.' . $buttons_extension . $img_fade . $extra_padding;

	// Squared icons
	$images['icon_aim2'] = $current_template_buttons . 'icon_im_aim.' . $images_extension . $img_fade;
	$images['icon_icq2'] = $current_template_buttons . 'icon_im_icq.' . $images_extension . $img_fade;
	$images['icon_msnm2'] = $current_template_buttons . 'icon_im_msn.' . $images_extension . $img_fade;
	$images['icon_skype2'] = $current_template_buttons . 'icon_im_skype.' . $images_extension . $img_fade;
	$images['icon_yim2'] = $current_template_buttons . 'icon_im_yahoo.' . $images_extension . $img_fade;
	$images['icon_download2'] = $current_template_buttons . 'icon_topic_download.' . $images_extension . $img_fade;
	$images['icon_view2'] = $current_template_buttons . 'icon_topic_view.' . $images_extension . $img_fade;
	$images['icon_ip2'] = $current_template_buttons . 'icon_user_ip.' . $images_extension . $img_fade;
	$images['icon_online2'] = $current_template_buttons . 'icon_user_online.' . $images_extension . $img_fade;
	$images['icon_offline2'] = $current_template_buttons . 'icon_user_offline.' . $images_extension . $img_fade;
	$images['icon_hidden2'] = $current_template_buttons . 'icon_user_hidden.' . $images_extension . $img_fade;

	// PM images
	$images['scroll_pm'] = $current_template_buttons . 'pm_read.gif' . $img_fade;
	$images['pm_readmsg'] = $current_template_buttons . 'pm_read.gif' . $img_fade;
	$images['pm_unreadmsg'] = $current_template_buttons . 'pm_unread.gif' . $img_fade;
	$images['pm_reply'] = $current_template_buttons . 'pm_replied.gif' . $img_fade;
	$images['pm_new_msg'] = 'pm-new';
	$images['pm_no_new_msg'] = 'pm';

	// Private chat notification
	$images['private_chat_alert'] = $images['pm_new_msg'];
	$images['private_chat'] = $images['pm_no_new_msg'];

	// Small icons
	$images['forum_tiny'] = $current_template_buttons . 'icon_post.gif' . $img_fade;
	$images['icon_minipost'] = $current_template_buttons . 'icon_post.gif';
	$images['icon_gotopage'] = $current_template_buttons . 'icon_post.gif';
	$images['icon_gotopost'] = $current_template_buttons . 'icon_post.gif';
	$images['forum_new_tiny'] = $current_template_buttons . 'icon_post_new.gif' . $img_fade;
	$images['icon_minipost_new'] = $current_template_buttons . 'icon_post_new.gif';
	$images['forum_locked_tiny'] = $current_template_buttons . 'icon_minipost_lock.gif' . $img_fade;
	$images['icon_latest_reply'] = $current_template_buttons . 'icon_reply.gif';
	$images['icon_newest_reply'] = $current_template_buttons . 'icon_reply_new.gif';
	$images['icon_minicat'] = $current_template_buttons . 'icon_minicat.gif';
	$images['icon_minicat_new'] = $current_template_buttons . 'icon_minicat_new.gif';
	$images['icon_minicat_locked'] = $current_template_buttons . 'icon_minicat_lock.gif';
	$images['icon_post_prev'] = $current_template_buttons . 'post_prev.gif';
	$images['icon_post_next'] = $current_template_buttons . 'post_next.gif';
	$images['icon_minilink'] = $current_template_buttons . 'icon_minilink.gif' . $img_fade;
	//$images['topic_locked_tiny'] = $current_template_buttons . 'icon_minipost_lock.gif';
	$images['icon_minipost_lock'] = $current_template_buttons . 'icon_minipost_lock.gif';
	$images['category_block'] = $current_template_buttons . 'cat_block.gif';

	// BEGIN Unread Post Information to Database Mod
	$images['mark_img'] = $current_template_buttons . 'upi2db_mark.' . $images_extension . $img_fade;
	$images['unmark_img'] = $current_template_buttons . 'upi2db_unmark.' . $images_extension . $img_fade;
	$images['unread_img'] = $current_template_buttons . 'upi2db_unread.' . $images_extension . $img_fade;
	// END Unread Post Information to Database Mod

	// Cards
	$images['icon_b_card'] = $default_images_root . 'card_blue.png';
	$images['icon_g_card'] = $default_images_root . 'card_green.png';
	$images['icon_p_card'] = $default_images_root . 'card_purple.png';
	$images['icon_r_card'] = $default_images_root . 'card_red.png';
	$images['icon_y_card'] = $default_images_root . 'card_yellow.png';
	$images['icon_y_cards'] = $default_images_root . 'cards_yellow.png';
	$images['icon_r_cards'] = $default_images_root . 'cards_red.png';

	$images['icon_calendar'] = $default_images_root . 'icon_calendar.gif';
	$images['icon_tiny_topic'] = $default_images_root . 'icon_tiny_topic.gif';
	$images['icon_tiny_profile'] = $default_images_root . 'icon_tiny_profile.gif';
	$images['folder_birthday'] = $current_template_buttons . 'folder_calendar.gif';

	// PA File DB
	$images['pa_file_new'] = $default_images_root . 'icon_pa_new.gif';
	$images['pa_search'] = $buttons_lang_folder . 'button_pa_search.' . $buttons_extension . $img_fade;
	$images['pa_stats'] = $buttons_lang_folder . 'button_pa_stats.' . $buttons_extension . $img_fade;
	$images['pa_toplist'] = $buttons_lang_folder . 'button_pa_toplist.' . $buttons_extension . $img_fade;
	$images['pa_upload'] = $buttons_lang_folder . 'button_pa_upload.' . $buttons_extension . $img_fade;
	$images['pa_viewall'] = $buttons_lang_folder . 'button_pa_viewall.' . $buttons_extension . $img_fade;
	$images['pa_download'] = $buttons_lang_folder . 'button_pa_download.' . $buttons_extension . $img_fade;
	$images['pa_rate'] = $buttons_lang_folder . 'button_pa_rate.' . $buttons_extension . $img_fade;
	$images['pa_email'] = $buttons_lang_folder . 'button_pa_email.' . $buttons_extension . $img_fade;
	$images['pa_comment_post'] = $buttons_lang_folder . 'button_pa_post_comment.' . $buttons_extension . $img_fade;

	// Mighty Gorgon - Full Album Pack - BEGIN
	$images['icon_left_arrow3'] = $current_template_buttons . 'arrow_left_rounded.' . $images_extension . $img_fade;
	$images['icon_right_arrow3'] = $current_template_buttons . 'arrow_right_rounded.' . $images_extension . $img_fade;
	$images['no_thumbnail'] = $current_template_images . 'nothumbnail.jpg';
	$images['mini_new_pictures'] = $current_template_images . 'icon_minipost_new.gif';
	$images['icon_tiny_search'] = $default_images_root . 'icon_tiny_search.gif';
	$images['icon_album'] = $buttons_lang_folder . 'icon_user_album.' . $buttons_extension . $img_fade . $extra_padding;
	$images['manage_pic'] = $buttons_lang_folder . 'button_manage_pic.' . $buttons_extension . $img_fade;
	$images['upload_pic'] = $buttons_lang_folder . 'button_upload_pic.' . $buttons_extension . $img_fade;
	$images['jupload_pic']= $buttons_lang_folder . 'button_jupload_pic.' . $buttons_extension . $img_fade;
	$images['download_pic'] = $buttons_lang_folder . 'button_download.' . $buttons_extension . $img_fade;
	$images['download_all_pic'] = $buttons_lang_folder . 'button_download.' . $buttons_extension . $img_fade;
	$images['all_pic_view_mode'] = $buttons_lang_folder . 'button_simple_view.' . $buttons_extension . $img_fade;
	$images['normal_pic_view_mode'] = $buttons_lang_folder . 'button_normal_view.' . $buttons_extension . $img_fade;
	$images['show_all_pics'] = $buttons_lang_folder . 'button_show_all_pics.' . $buttons_extension . $img_fade;
	$images['show_all_ratings'] = $buttons_lang_folder . 'button_show_all_ratings.' . $buttons_extension . $img_fade;
	$images['show_all_comments'] = $buttons_lang_folder . 'button_show_all_comments.' . $buttons_extension . $img_fade;
	// Mighty Gorgon - Full Album Pack - END

	// SUDOKU - BEGIN
	if (defined('IN_SUDOKU'))
	{
		$images['sudoku_x'] = $common_images . 'sudoku/sudoku_blank.gif';
		$images['sudoku_1'] = $common_images . 'sudoku/1_given.gif';
		$images['sudoku_2'] = $common_images . 'sudoku/2_given.gif';
		$images['sudoku_3'] = $common_images . 'sudoku/3_given.gif';
		$images['sudoku_4'] = $common_images . 'sudoku/4_given.gif';
		$images['sudoku_5'] = $common_images . 'sudoku/5_given.gif';
		$images['sudoku_6'] = $common_images . 'sudoku/6_given.gif';
		$images['sudoku_7'] = $common_images . 'sudoku/7_given.gif';
		$images['sudoku_8'] = $common_images . 'sudoku/8_given.gif';
		$images['sudoku_9'] = $common_images . 'sudoku/9_given.gif';
		$images['sudoku_11'] = $common_images . 'sudoku/11_given.gif';
		$images['sudoku_12'] = $common_images . 'sudoku/12_given.gif';
		$images['sudoku_13'] = $common_images . 'sudoku/13_given.gif';
		$images['sudoku_14'] = $common_images . 'sudoku/14_given.gif';
		$images['sudoku_15'] = $common_images . 'sudoku/15_given.gif';
		$images['sudoku_16'] = $common_images . 'sudoku/16_given.gif';
		$images['sudoku_17'] = $common_images . 'sudoku/17_given.gif';
		$images['sudoku_18'] = $common_images . 'sudoku/18_given.gif';
		$images['sudoku_19'] = $common_images . 'sudoku/19_given.gif';
		$images['sudoku_21'] = $common_images . 'sudoku/1_ran.gif';
		$images['sudoku_22'] = $common_images . 'sudoku/2_ran.gif';
		$images['sudoku_23'] = $common_images . 'sudoku/3_ran.gif';
		$images['sudoku_24'] = $common_images . 'sudoku/4_ran.gif';
		$images['sudoku_25'] = $common_images . 'sudoku/5_ran.gif';
		$images['sudoku_26'] = $common_images . 'sudoku/6_ran.gif';
		$images['sudoku_27'] = $common_images . 'sudoku/7_ran.gif';
		$images['sudoku_28'] = $common_images . 'sudoku/8_ran.gif';
		$images['sudoku_29'] = $common_images . 'sudoku/9_ran.gif';
	}
	// SUDOKU - END

	// CBACK CrackerTracker - BEGIN
	$images['ctracker_key_icon']    = $common_images . 'key_icon.png';
	$images['ctracker_log_manager'] = $common_images . 'log_manager.png';
	$images['ctracker_footer_s']    = $common_images . 'footer_1.png';
	$images['ctracker_footer_b']    = $common_images . 'footer_2.png';
	$images['ctracker_gmu']         = $common_images . 'glob_msg_user.png';
	$images['ctracker_note']        = $common_images . 'ip_warning.png';
	// CBACK CrackerTracker - END
}
else
{
	$cms_images_root = $common_images;

	// ACP - BEGIN
	$images['acp_category'] = $common_images . 'folders.gif';
	$images['acp_category_locked'] = $common_images . 'folder_locked.gif';
	$images['acp_forum'] = $common_images . 'folder.gif';
	$images['acp_forum_locked'] = $common_images . 'folder_locked.gif';
	$images['acp_link'] = $common_images . 'folder_link.gif';
	$images['acp_icon_minicat'] = $common_images . 'icon_minicat.gif';
	$images['acp_icon_minicat_locked'] = $common_images . 'icon_minicat_lock.gif';
	$images['acp_icon_minipost'] = $common_images . 'icon_post.gif';
	$images['acp_icon_minipost_lock'] = $common_images . 'icon_minipost_lock.gif';
	$images['acp_icon_minilink'] = $common_images . 'icon_minilink.gif';
	$images['acp_up_arrow2'] = $common_images . 'icon_arrow_up.gif';
	$images['acp_down_arrow2'] = $common_images . 'icon_arrow_down.gif';
	$images['acp_spacer'] = $common_images . 'spacer.gif';
	// ACP - END

	// CBACK CrackerTracker - BEGIN
	$images['ctracker_key_icon']    = $common_images . 'key_icon.png';
	$images['ctracker_acp_bg']      = $common_images . 'acp_head_bg.jpg';
	$images['ctracker_acp_logo']    = $common_images . 'acp_head_logo.jpg';
	$images['ctracker_icon_set_1']  = $common_images . 'acp_settings_1.png';
	$images['ctracker_icon_set_2']  = $common_images . 'acp_settings_2.png';
	$images['ctracker_icon_set_3']  = $common_images . 'acp_settings_3.png';
	$images['ctracker_icon_set_4']  = $common_images . 'acp_settings_4.png';
	$images['ctracker_icon_set_5']  = $common_images . 'acp_settings_5.png';
	$images['ctracker_icon_set_6']  = $common_images . 'acp_settings_6.png';
	$images['ctracker_icon_set_7']  = $common_images . 'acp_settings_7.png';
	$images['ctracker_icon_set_8']  = $common_images . 'acp_settings_8.png';
	$images['ctracker_icon_cred_1'] = $common_images . 'acp_credits_1.png';
	$images['ctracker_icon_cred_2'] = $common_images . 'acp_credits_2.png';
	$images['ctracker_icon_cred_3'] = $common_images . 'acp_credits_3.png';
	$images['ctracker_icon_cred_4'] = $common_images . 'acp_credits_4.png';
	$images['ctracker_fc_icon_1']   = $common_images . 'fc_icon_1.png';
	$images['ctracker_fc_icon_2']   = $common_images . 'fc_icon_2.png';
	$images['ctracker_global_msg']  = $common_images . 'global_message.png';
	$images['ctracker_global_res']  = $common_images . 'global_reset.png';
	$images['ctracker_log_manager'] = $common_images . 'log_manager.png';
	$images['ctracker_footer_s']    = $common_images . 'footer_1.png';
	$images['ctracker_footer_b']    = $common_images . 'footer_2.png';
	$images['ctracker_recovery']    = $common_images . 'recovery.png';
	$images['ctracker_gmu']         = $common_images . 'glob_msg_user.png';
	$images['ctracker_note']        = $common_images . 'ip_warning.png';
	// CBACK CrackerTracker - END
}

// CMS - BEGIN
$images['news_floppy'] = $cms_images_root . 'floppy.gif';
$images['news_print'] = $cms_images_root . 'printer.png';
$images['news_reply'] = $cms_images_root . 'comment.png';
$images['news_email'] = $cms_images_root . 'email.png';
$images['news_clock'] = $cms_images_root . 'clock.png';
$images['icon_previous'] = $cms_images_root . 'page_white_previous.png';
$images['icon_next'] = $cms_images_root . 'page_white_go.png';
$images['floppy2'] = $cms_images_root . 'disk_multiple.png';
$images['recent_topics'] = $default_images_root . 'folder_page.png';
$images['printer_topic'] = $cms_images_root . 'printer_topic.png';
$images['topic_viewed'] = $cms_images_root . 'topic_viewed.png';
$images['email_topic'] = $cms_images_root . 'email_topic.png';
$images['cms_pm'] = $cms_images_root . 'cms_pm.png';
$images['bookmark_add'] = $cms_images_root . 'book_add.png';
$images['bookmark_remove'] = $cms_images_root . 'book_delete.png';

$images['cms_arrow_down'] = $common_images . 'cms_arrow_down.png';
$images['cms_arrow_up'] = $common_images . 'cms_arrow_up.png';
$images['cms_icon_add'] = $common_images . 'cms_icon_add.png';
$images['cms_icon_blocks'] = $common_images . 'cms_icon_blocks.png';
$images['cms_icon_cancel'] = $common_images . 'cms_icon_cancel.png';
$images['cms_icon_delete'] = $common_images . 'cms_icon_delete.png';
$images['cms_icon_dollar'] = $common_images . 'cms_icon_dollar.png';
$images['cms_icon_edit'] = $common_images . 'cms_icon_edit.png';
$images['cms_icon_forbidden'] = $common_images . 'cms_icon_forbidden.png';
$images['cms_icon_important'] = $common_images . 'cms_icon_important.png';
$images['cms_icon_info'] = $common_images . 'cms_icon_info.png';
$images['cms_icon_lock'] = $common_images . 'cms_icon_lock.png';
$images['cms_icon_move'] = $common_images . 'cms_icon_move.png';
$images['cms_icon_ok'] = $common_images . 'cms_icon_ok.png';
$images['cms_icon_preview'] = $common_images . 'cms_icon_preview.png';
$images['cms_icon_redo'] = $common_images . 'cms_icon_redo.png';
$images['cms_icon_refresh'] = $common_images . 'cms_icon_refresh.png';
$images['cms_icon_remove'] = $common_images . 'cms_icon_remove.png';
$images['cms_icon_search'] = $common_images . 'cms_icon_search.png';
$images['cms_icon_stop'] = $common_images . 'cms_icon_stop.png';
$images['cms_icon_undo'] = $common_images . 'cms_icon_undo.png';
$images['cms_icon_unlock'] = $common_images . 'cms_icon_unlock.png';
// CMS - END

// Nav menu and others
$images['maximise'] = $current_template_buttons . 'switch_maximise.gif';
$images['minimise'] = $current_template_buttons . 'switch_minimise.gif';
$images['nav_menu_sep'] = $current_template_buttons . 'menu_sep.gif';
$images['whosonline'] = $default_images_root . 'spacer.gif';
$images['stats_image'] = $default_images_root . 'stats.png';
$images['birthday_image'] = $default_images_root . 'birthday.png';
$images['nav_menu_application'] = $default_images_root . 'application_view_tile.png';
$images['nav_menu_newspaper'] = $default_images_root . 'newspaper.png';
$images['nav_menu_information'] = $default_images_root . 'information.png';
$images['nav_menu_group'] = $default_images_root . 'group.png';
$images['nav_menu_palette'] = $default_images_root . 'palette.png';
$images['nav_menu_world'] = $default_images_root . 'world.png';
$images['nav_menu_random_quote'] = $default_images_root . 'random_quote.png';
$images['nav_menu_sponsor'] = $default_images_root . 'asterisk_orange.png';
$images['nav_menu_feed'] = $default_images_root . 'feed.png';
$images['nav_menu_rss_feed'] = $default_images_root . 'rss.gif';
$images['nav_menu_games'] = $default_images_root . 'games.png';
$images['nav_menu_games_alt'] = $default_images_root . 'games_alt.png';
$images['nav_menu_pm'] = $default_images_root . 'pm.png';
$images['nav_menu_star'] = $default_images_root . 'star.png';
$images['nav_menu_users'] = $default_images_root . 'users.png';
$images['nav_menu_wsettings'] = $default_images_root . 'web_settings.png';
$images['vf_topic_ann'] = $default_images_root . 'topic_ann.png';
$images['vf_topic_cal'] = $default_images_root . 'topic_cal.png';
$images['vf_topic_event'] = $default_images_root . 'topic_event.png';
$images['vf_topic_ga'] = $default_images_root . 'topic_ga.png';
$images['vf_topic_imp'] = $default_images_root . 'topic_imp.png';
$images['vf_topic_news'] = $default_images_root . 'topic_news.png';
$images['vf_topic_nor'] = $default_images_root . 'topic_nor.png';
$images['vf_topic_poll'] = $default_images_root . 'topic_poll.png';
$images['vt_post_download'] = $default_images_root . 'disk.png';
$images['vt_post_ip'] = $default_images_root . 'computer.png';

$images['icon_minigender_male'] = $default_images_root . 'gender_male.png';
$images['icon_minigender_female'] = $default_images_root . 'gender_female.png';

// Polls
$images['voting_graphic'][0] = $current_template_images . 'voting_bar.gif';
$images['voting_graphic_body'] = $current_template_images . 'voting_bar.gif';
$images['voting_graphic_left'] = $current_template_images . 'vote_lcap.gif';
$images['voting_graphic_right'] = $current_template_images . 'vote_rcap.gif';
$images['voting_graphic_blue'][0] = $current_template_images . 'voting_bar_blue.gif';
$images['voting_graphic_blue_body'] = $current_template_images . 'voting_bar_blue.gif';
$images['voting_graphic_blue_left'] = $current_template_images . 'vote_lcap_blue.gif';
$images['voting_graphic_blue_right'] = $current_template_images . 'vote_rcap_blue.gif';
$images['voting_graphic_green'][0] = $current_template_images . 'voting_bar_green.gif';
$images['voting_graphic_green_body'] = $current_template_images . 'voting_bar_green.gif';
$images['voting_graphic_green_left'] = $current_template_images . 'vote_lcap_green.gif';
$images['voting_graphic_green_right'] = $current_template_images . 'vote_rcap_green.gif';
$images['voting_graphic_red'][0] = $current_template_images . 'voting_bar_red.gif';
$images['voting_graphic_red_body'] = $current_template_images . 'voting_bar_red.gif';
$images['voting_graphic_red_left'] = $current_template_images . 'vote_lcap_red.gif';
$images['voting_graphic_red_right'] = $current_template_images . 'vote_rcap_red.gif';
$config['vote_graphic_length'] = 205;
$config['privmsg_graphic_length'] = 175;

// DOWNLOADS - BEGIN
$images['Dl_upload'] = $buttons_lang_folder . 'button_pa_upload.' . $buttons_extension . $img_fade;
$images['Dl_download'] = $default_images_root . 'icon_dl_download.gif';
$images['Dl_homepage'] = $default_images_root . 'icon_dl_homepage.gif';
$images['Dl_blue'] = $default_images_root . 'dl_blue.png';
$images['Dl_grey'] = $default_images_root . 'dl_grey.png';
$images['Dl_red'] = $default_images_root . 'dl_red.png';
$images['Dl_green'] = $default_images_root . 'dl_green.png';
$images['Dl_white'] = $default_images_root . 'dl_white.png';
$images['Dl_yellow'] = $default_images_root . 'dl_yellow.png';
$images['Dl_new'] = $default_images_root . 'dl_new.png';
$images['Dl_edit'] = $default_images_root . 'dl_edit.png';
$images['Dl_rate_no'] = $default_images_root . 'dl_rate_no.png';
$images['Dl_rate_yes'] = $default_images_root . 'dl_rate_yes.png';
$images['Dl_acp_config'] = $default_images_root . 'dl_config.png';
$images['Dl_acp_traffic'] = $default_images_root . 'dl_traffic.png';
$images['Dl_acp_categories'] = $default_images_root . 'dl_categories.png';
$images['Dl_acp_files'] = $default_images_root . 'dl_files.png';
$images['Dl_acp_stats'] = $default_images_root . 'dl_stats.png';
$images['Dl_acp_toolbox'] = $default_images_root . 'dl_toolbox.png';
$images['Dl_acp_ext_blacklist'] = $default_images_root . 'dl_ext_blacklist.png';
$images['Dl_acp_banlist'] = $default_images_root . 'dl_banlist.png';
// DOWNLOADS - END

if (!defined('IN_ADMIN') && !defined('IN_CMS'))
{
	$is_xmas = 'false';
	if (($config['xmas_gfx'] == 1) && ($color == 'gray'))
	{
		$is_xmas = 'true';
		$xmas_images = $current_template_images . 'xmas/';
		$images['sitelogo'] = $xmas_images . 'sitelogo_small.png';
		$images['menu_sep'] = $xmas_images . 'menu_sep.gif';
		$images['nav_menu_sep'] = $xmas_images . 'small_tree.gif';

		$images['forum_nor_read'] = $xmas_images . 'forum_nor_read.' . $images_extension . $img_fade;
		$images['forum_nor_unread'] = $xmas_images . 'forum_nor_unread.' . $images_extension . $img_fade;
		$images['forum_nor_locked_read'] = $xmas_images . 'forum_nor_locked_read.' . $images_extension . $img_fade;
		$images['forum_nor_locked_unread'] = $xmas_images . 'forum_nor_locked_read.' . $images_extension . $img_fade;
		$images['forum_sub_read'] = $xmas_images . 'forum_sub_read.' . $images_extension . $img_fade;
		$images['forum_sub_unread'] = $xmas_images . 'forum_sub_unread.' . $images_extension . $img_fade;
		$images['forum_sub_locked_read'] = $xmas_images . 'forum_nor_locked_read.' . $images_extension . $img_fade;
		$images['forum_sub_locked_unread'] = $xmas_images . 'forum_nor_locked_read.' . $images_extension . $img_fade;
		$images['forum_link'] = $xmas_images . 'forum_link.' . $images_extension . $img_fade;
		$images['forum_nor_ar'] = $xmas_images . 'forum_nor_ar_read.' . $images_extension . $img_fade;
		$images['forum_sub_ar'] = $xmas_images . 'forum_sub_ar_read.' . $images_extension . $img_fade;

		$images['post_new'] = $xmas_images . $current_lang . 'button_new_topic.' . $buttons_extension . $img_fade;
		$images['post_locked'] = $xmas_images . $current_lang . 'button_locked.' . $buttons_extension . $img_fade;
		$images['reply_new'] = $xmas_images . $current_lang . 'button_post_reply.' . $buttons_extension . $img_fade;
		$images['reply_locked'] = $xmas_images . $current_lang . 'button_locked.' . $buttons_extension . $img_fade;
		$images['quick_reply'] = $xmas_images . $current_lang . 'button_quick_reply.' . $buttons_extension . $img_fade;
		$images['thanks'] = $xmas_images . $current_lang . 'button_thanks.' . $buttons_extension . $img_fade;
		$images['icon_profile'] = $xmas_images . $current_lang . 'icon_user_profile.' . $buttons_extension . $img_fade;
		$images['icon_online'] = $xmas_images . $current_lang . 'icon_user_online.' . $buttons_extension . $img_fade;
		$images['icon_offline'] = $xmas_images . $current_lang . 'icon_user_offline.' . $buttons_extension . $img_fade;

		$images['icon_online2'] = $xmas_images . 'icon_user_online.' . $buttons_extension . $img_fade;
		$images['icon_offline2'] = $xmas_images . 'icon_user_offline.' . $buttons_extension . $img_fade;
		$images['stats_image'] = $xmas_images . 'xmas_tree.png';
	}
	elseif (($config['xmas_gfx'] == 1) && ($color == 'blue'))
	{
		$is_xmas = 'true';
	}

	// Mighty Gorgon - Change Lang/Style - BEGIN
	$style_select = '';
	$lang_select = '';
	if ($config['select_theme'] || ($config['select_lang'] && (!$user->data['session_logged_in'])))
	{
		include_once(IP_ROOT_PATH . 'includes/functions_selects.' . PHP_EXT);

		if ($config['select_theme'])
		{
			$template->assign_var('S_STYLES_SELECT', true);
			$js_append = ' onchange="SetLangTheme();" class="gensmall"';
			$style_select = style_select(STYLE_URL, $config['default_style'], $js_append);
		}

		if ($config['select_lang'] && (!$user->data['session_logged_in']))
		{
			$template->assign_var('S_LANGS_SELECT', true);
			$lang_installed = language_select(LANG_URL, $config['default_lang'], 'language', true);

			while (list($displayname) = @each($lang_installed))
			{
				$lang_value = $displayname;
				$lang_name = ucwords($displayname);
				$template->assign_block_vars('lang_select', array(
					'LANG_FLAG' => 'language/lang_' . $displayname . '/flag.png',
					'LANG_NAME' => $lang_name,
					'LANG_VALUE'=> $lang_value,
					'U_LANG_CHANGE'=> append_sid(CMS_PAGE_HOME . '?' . LANG_URL . '=' . $lang_value),
					)
				);
			}
		}
	}
	// Mighty Gorgon - Change Lang/Style - END
}

$copyright_link = (!empty($copyright_link) ? $copyright_link : '&nbsp;Powered by <a href="http://www.icyphoenix.com/" target="_blank">Icy Phoenix</a> based on <a href="http://www.phpbb.com/" target="_blank">phpBB</a>');

// adding custom template variables
$template->assign_vars(array(
	'IP_ROOT_PATH' => IP_ROOT_PATH,
	'PHP_EXT' => PHP_EXT,
	'SCRIPT_NAME' => str_replace('.' . PHP_EXT, '', $user->data['page']['page_name']),
	'POST_FORUM_URL' => POST_FORUM_URL,
	'POST_TOPIC_URL' => POST_TOPIC_URL,
	'POST_POST_URL' => POST_POST_URL,

	'CMS_PAGE_LOGIN' => CMS_PAGE_LOGIN,
	'CMS_PAGE_HOME' => CMS_PAGE_HOME,
	'CMS_PAGE_FORUM' => CMS_PAGE_FORUM,
	'CMS_PAGE_VIEWFORUM' => CMS_PAGE_VIEWFORUM,
	'CMS_PAGE_VIEWTOPIC' => CMS_PAGE_VIEWTOPIC,
	'CMS_PAGE_PROFILE' => CMS_PAGE_PROFILE,
	'CMS_PAGE_POSTING' => CMS_PAGE_POSTING,
	'CMS_PAGE_SEARCH' => CMS_PAGE_SEARCH,

	'S_CONTENT_DIRECTION' => $lang['DIRECTION'],
	'S_CONTENT_ENCODING' => $lang['ENCODING'],
	'S_CONTENT_DIR_LEFT' => $lang['LEFT'],
	'S_CONTENT_DIR_RIGHT' => $lang['RIGHT'],

	'SITENAME' => $config['sitename'],
	'SITE_DESCRIPTION' => $config['site_desc'],

	'IP_VERSION' => $config['ip_version'],
	'FULL_SITE_PATH' => $full_server_url,
	'THIS_STYLE_NAME' => $row['style_name'],
	'THIS_TEMPLATE_NAME' => $row['template_name'],
	'T_TPL_PATH' => $current_template_path . '/',
	'T_COMMON_TPL_PATH' => 'templates/common/',
	'T_TEMPLATE_PATH' => $template_dir,
	'T_IMAGESET_PATH' => $imageset_dir,
	'T_IMAGESET_LANG_PATH' => $imageset_dir . 'lang_' . $tpl_lang,
	'T_HEAD_STYLESHEET' => $row['head_stylesheet'],
	'T_BODY_BACKGROUND' => $row['body_background'],
	'T_BODY_BGCOLOR' => '#' . $row['body_bgcolor'],
	'T_TR_CLASS1' => $row['tr_class1'],
	'T_TR_CLASS2' => $row['tr_class2'],
	'T_TR_CLASS3' => $row['tr_class3'],
	'T_TD_CLASS1' => $row['td_class1'],
	'T_TD_CLASS2' => $row['td_class2'],
	'T_TD_CLASS3' => $row['td_class3'],
	'TPL_COLOR' => $color,
	'CSS_COLOR' => $css_color,
	'CURRENT_LANG' => $config['default_lang'],
	'CURRENT_TPL_LANG' => $tpl_lang,
	'C_PM' => (($user->data['session_logged_in'] && $user->data['user_new_privmsg']) ? (' <b>(' . $user->data['user_new_privmsg'] . ')</b>') : ''),

	// SWITCHES - BEGIN
	'S_SID' => $user->data['session_id'],
	'S_ACP_CMS' => (defined('IN_ADMIN') || defined('IN_CMS')) ? true : false,
	'S_IN_CMS' => defined('IN_CMS') ? true : false,
	'S_IN_ACP' => defined('IN_ADMIN') ? true : false,
	'S_LOGGED_IN' => ($user->data['session_logged_in'] ? 1 : 0),
	'S_ADMIN' => (($user->data['user_level'] == ADMIN) ? 1 : 0),
	'S_MOD' => (($user->data['user_level'] == MOD) ? 1 : 0),
	'S_ADMIN_MOD' => ((($user->data['user_level'] == ADMIN) || ($user->data['user_level'] == MOD)) ? 1 : 0),
	'S_BOT' => ($user->data['is_bot'] ? 1 : 0),
	'S_LOFI' => ((!empty($_COOKIE['lofi'])) || $lofi_bots_parsing) ? true : false,
	'S_LOFI_BOTS' => ($user->data['is_bot'] && $config['lofi_bots']) ? true : false,
	'S_NIFTY' => (isset($nifty_corners) ? $nifty_corners : true),
	'IS_XMAS' => $is_xmas,
	'S_XMAS_GFX' => (($config['xmas_gfx'] == true) ? true : false),
	'S_XMAS_FX' => (($config['xmas_fx'] == true) ? true : false),
	// SWITCHES - END

	// TEMPLATE SPECIAL VARS - BEGIN
	'NAV_SEP' => $lang['Nav_Separator'],
	'NAV_DOT' => '&#8226;',
	'EXTRA_CSS_JS' => $extra_css_js,
	'PAGE_BEGIN' => $images['page_begin'],
	'PAGE_END' => $images['page_end'],
	'COPYRIGHT_LINK' => $copyright_link,
	'TEMPLATE_COPYRIGHT_LINK' => $template_copyright_link,
	'SHOW_HIDE_PADDING' => $show_hide_padding,

	'IMG_THL' => $images['tbl_h_l'],
	'IMG_THC' => $images['tbl_h_c'],
	'IMG_THR' => $images['tbl_h_r'],
	'IMG_TBL' => $images['tbl_b_l'],
	'IMG_TBC' => $images['tbl_b_c'],
	'IMG_TBR' => $images['tbl_b_r'],
	'IMG_TFL' => $images['tbl_f_l'],
	'IMG_TFC' => $images['tbl_f_c'],
	'IMG_TFR' => $images['tbl_f_r'],

	'IMG_THL_HOUSE' => (isset($images['tbl_h_l_house']) ? $images['tbl_h_l_house'] : $images['tbl_h_l']),
	'IMG_THL_ALT' => (isset($images['tbl_h_l_alt']) ? $images['tbl_h_l_alt'] : $images['tbl_h_l']),
	'IMG_THR_ALT' => (isset($images['tbl_h_r_alt']) ? $images['tbl_h_r_alt'] : $images['tbl_h_r']),
	// TEMPLATE SPECIAL VARS - END

	// IMAGES - BEGIN
	'SITELOGO' => $images['sitelogo'],
	'SPACER' => $images['spacer'],
	'GRAPH_IMAGE' => $images['voting_graphic_body'],
	'LEFT_GRAPH_IMAGE' => $images['voting_graphic_left'],
	'RIGHT_GRAPH_IMAGE' => $images['voting_graphic_right'],
	'R_GRAPH_IMAGE' => $images['voting_graphic_red_body'],
	'R_LEFT_GRAPH_IMAGE' => $images['voting_graphic_red_left'],
	'R_RIGHT_GRAPH_IMAGE' => $images['voting_graphic_red_right'],
	'G_GRAPH_IMAGE' => $images['voting_graphic_green_body'],
	'G_LEFT_GRAPH_IMAGE' => $images['voting_graphic_green_left'],
	'G_RIGHT_GRAPH_IMAGE' => $images['voting_graphic_green_right'],
	'B_GRAPH_IMAGE' => $images['voting_graphic_blue_body'],
	'B_LEFT_GRAPH_IMAGE' => $images['voting_graphic_blue_left'],
	'B_RIGHT_GRAPH_IMAGE' => $images['voting_graphic_blue_right'],
	'IMG_ARROW_UP' => '<img src="' . $images['arrow_up'] . '" alt="up" title="up" />',
	'IMG_ARROW_RIGHT' => '<img src="' . $images['arrow_right'] . '" alt="right" title="right" />',
	'IMG_ARROW_DOWN' => '<img src="' . $images['arrow_down'] . '" alt="down" title="down" />',
	'IMG_ARROW_LEFT' => '<img src="' . $images['arrow_left'] . '" alt="left" title="left" />',
	'IMG_MENU_SEP' => $images['menu_sep'],
	'IMG_POST_PREV' => $images['icon_post_prev'],
	'IMG_POST_NEXT' => $images['icon_post_next'],
	'IMG_MAXIMISE' => $images['maximise'],
	'IMG_MINIMISE' => $images['minimise'],
	'IMG_NAV_MENU_SEP' => '<img src="' . $images['nav_menu_sep'] . '" alt="" title="" />',
	'IMG_NAV_MENU_APPLICATION' => $images['nav_menu_application'],
	'IMG_NAV_MENU_NEWSPAPER' => $images['nav_menu_newspaper'],
	'IMG_NAV_MENU_INFORMATION' => $images['nav_menu_information'],
	'IMG_NAV_MENU_GROUP' => $images['nav_menu_group'],
	'IMG_NAV_MENU_PALETTE' => $images['nav_menu_palette'],
	'IMG_NAV_MENU_WORLD' => $images['nav_menu_world'],
	'IMG_NAV_MENU_RANDOM_QUOTE' => $images['nav_menu_random_quote'],
	'IMG_NAV_MENU_SPONSOR' => $images['nav_menu_sponsor'],
	'IMG_NAV_MENU_FEED' => $images['nav_menu_feed'],
	'IMG_NAV_MENU_RSS_FEED' => $images['nav_menu_rss_feed'],
	'IMG_NAV_MENU_GAMES' => $images['nav_menu_games'],
	'IMG_NAV_MENU_GAMES_ALT' => $images['nav_menu_games_alt'],
	'IMG_NAV_MENU_PM' => $images['nav_menu_pm'],
	'IMG_NAV_MENU_STAR' => $images['nav_menu_star'],
	'IMG_NAV_MENU_USERS' => $images['nav_menu_users'],
	'IMG_NAV_MENU_WSETTINGS' => $images['nav_menu_wsettings'],
	'IMG_CALENDAR' => $images['icon_calendar'],
	'IMG_VF_ANN' => $images['vf_topic_ann'],
	'IMG_VF_CAL' => $images['vf_topic_cal'],
	'IMG_VF_GA' => $images['vf_topic_ga'],
	'IMG_VF_IMP' => $images['vf_topic_imp'],
	'IMG_VF_NEWS' => $images['vf_topic_news'],
	'IMG_VF_NOR' => $images['vf_topic_nor'],
	'IMG_VF_POLL' => $images['vf_topic_poll'],
	// IMAGES - END

	// Mighty Gorgon - CMS IMAGES - BEGIN
	'IMG_CMS_ARROW_DOWN' => $images['cms_arrow_down'],
	'IMG_CMS_ARROW_UP' => $images['cms_arrow_up'],
	'IMG_CMS_ICON_ADD' => $images['cms_icon_add'],
	'IMG_CMS_ICON_BLOCKS' => $images['cms_icon_blocks'],
	'IMG_CMS_ICON_CANCEL' => $images['cms_icon_cancel'],
	'IMG_CMS_ICON_DELETE' => $images['cms_icon_delete'],
	'IMG_CMS_ICON_DOLLAR' => $images['cms_icon_dollar'],
	'IMG_CMS_ICON_EDIT' => $images['cms_icon_edit'],
	'IMG_CMS_ICON_FORBIDDEN' => $images['cms_icon_forbidden'],
	'IMG_CMS_ICON_IMPORTANT' => $images['cms_icon_important'],
	'IMG_CMS_ICON_INFO' => $images['cms_icon_info'],
	'IMG_CMS_ICON_LOCK' => $images['cms_icon_lock'],
	'IMG_CMS_ICON_MOVE' => $images['cms_icon_move'],
	'IMG_CMS_ICON_OK' => $images['cms_icon_ok'],
	'IMG_CMS_ICON_PREVIEW' => $images['cms_icon_preview'],
	'IMG_CMS_ICON_REFRESH' => $images['cms_icon_refresh'],
	'IMG_CMS_ICON_REDO' => $images['cms_icon_redo'],
	'IMG_CMS_ICON_REMOVE' => $images['cms_icon_remove'],
	'IMG_CMS_ICON_SEARCH' => $images['cms_icon_search'],
	'IMG_CMS_ICON_STOP' => $images['cms_icon_stop'],
	'IMG_CMS_ICON_UNDO' => $images['cms_icon_undo'],
	'IMG_CMS_ICON_UNLOCK' => $images['cms_icon_unlock'],
	// Mighty Gorgon - CMS IMAGES - END

	// Mighty Gorgon - Change Lang/Style - Begin
	'REQUEST_URI' => htmlspecialchars(urldecode($_SERVER['REQUEST_URI'])),
	'STYLE_SELECT_H' => $style_select,
	'LANGUAGE_SELECT_H' => $lang_select,
	// Mighty Gorgon - Change Lang/Style - End

	// Mighty Gorgon - CMS - BEGIN
	'U_CMS_ACP' => IP_ROOT_PATH . ADM . '/index.' . PHP_EXT . '?sid=' . $user->data['session_id'],
	'U_ACP' => '<a href="' . IP_ROOT_PATH . ADM . '/index.' . PHP_EXT . '?sid=' . $user->data['session_id'] . '">' . $lang['Admin_panel'] . '</a>',
	'U_CMS' => IP_ROOT_PATH . 'cms.' . PHP_EXT . '?sid=' . $user->data['session_id'],
	'U_CMS_CONFIG' => append_sid(IP_ROOT_PATH . 'cms.' . PHP_EXT . '?mode=config'),
	'U_CMS_ADS' => append_sid(IP_ROOT_PATH . 'cms_ads.' . PHP_EXT),
	'U_CMS_MENU' => append_sid(IP_ROOT_PATH . 'cms_menu.' . PHP_EXT),
	'U_CMS_BLOCK_SETTINGS' => append_sid(IP_ROOT_PATH . 'cms.' . PHP_EXT . '?mode=block_settings'),
	'U_CMS_GLOBAL_BLOCKS' => append_sid(IP_ROOT_PATH . 'cms.' . PHP_EXT . '?mode=blocks&amp;l_id=0&amp;action=editglobal'),
	'U_CMS_STANDARD_PAGES' => append_sid(IP_ROOT_PATH . 'cms.' . PHP_EXT . '?mode=layouts_special'),
	'U_CMS_CUSTOM_PAGES' => append_sid(IP_ROOT_PATH . 'cms.' . PHP_EXT . '?mode=layouts'),
	'U_CMS_CUSTOM_PAGES_ADV' => append_sid(IP_ROOT_PATH . 'cms.' . PHP_EXT . '?mode=layouts_adv'),
	// Mighty Gorgon - CMS - END

	// LINKS - BEGIN
	'U_BACK_TOP' => '#top',
	'U_BACK_BOTTOM' => '#bottom',
	'U_MODCP' => append_sid(IP_ROOT_PATH . 'modcp.' . PHP_EXT),
	'U_PORTAL' => append_sid(IP_ROOT_PATH . CMS_PAGE_HOME),
	'U_INDEX' => append_sid(IP_ROOT_PATH . CMS_PAGE_FORUM),
	'S_LOGIN_ACTION' => append_sid(IP_ROOT_PATH . CMS_PAGE_LOGIN),
	'U_REGISTER' => append_sid(IP_ROOT_PATH . CMS_PAGE_PROFILE . '?mode=register'),
	'U_BOARDRULES' => append_sid(IP_ROOT_PATH . 'rules.' . PHP_EXT),
	'U_PROFILE' => append_sid(IP_ROOT_PATH . CMS_PAGE_PROFILE_MAIN),
	'U_PRIVATEMSGS' => append_sid(IP_ROOT_PATH . CMS_PAGE_PRIVMSG . '?folder=inbox'),
	'U_PRIVATEMSGS_POPUP' => append_sid(IP_ROOT_PATH . CMS_PAGE_PRIVMSG . '?mode=newpm'),
	'U_RECENT' => append_sid(IP_ROOT_PATH . 'recent.' . PHP_EXT),
	'U_SEARCH' => append_sid(IP_ROOT_PATH . CMS_PAGE_SEARCH),
	'U_SEARCH_UNANSWERED' => append_sid(IP_ROOT_PATH . CMS_PAGE_SEARCH . '?search_id=unanswered'),
	'U_SEARCH_SELF' => append_sid(IP_ROOT_PATH . CMS_PAGE_SEARCH . '?search_id=egosearch'),
	'U_SEARCH_NEW' => append_sid(IP_ROOT_PATH . CMS_PAGE_SEARCH . '?search_id=newposts'),
	'U_BOOKMARKS' => append_sid(IP_ROOT_PATH . CMS_PAGE_SEARCH . '?search_id=bookmarks'),
	'U_PORTAL_NEWS_CAT' => append_sid(IP_ROOT_PATH . CMS_PAGE_HOME . '?news=categories'),
	'U_PORTAL_NEWS_ARC' => append_sid(IP_ROOT_PATH . CMS_PAGE_HOME . '?news=archives'),
	'U_MEMBERLIST' => append_sid(IP_ROOT_PATH . CMS_PAGE_MEMBERLIST),
	'U_RANKS' => append_sid(IP_ROOT_PATH . 'ranks.' . PHP_EXT),
	'U_STAFF' => append_sid(IP_ROOT_PATH . CMS_PAGE_MEMBERLIST . '?mode=staff'),
	'U_GROUP_CP' => append_sid(IP_ROOT_PATH . 'groupcp.' . PHP_EXT),
	'U_FAQ' => append_sid(IP_ROOT_PATH . CMS_PAGE_FAQ),
	'U_REFERRERS' => append_sid(IP_ROOT_PATH . 'referrers.' . PHP_EXT),
	'U_KB' => append_sid(IP_ROOT_PATH . 'kb.' . PHP_EXT),
	'U_NEWS' => append_sid(IP_ROOT_PATH . $config['news_base_url'] . $config['news_index_file']),
	'U_WATCHED_TOPICS' => append_sid(IP_ROOT_PATH . 'watched_topics.' . PHP_EXT),
	'U_VIEWONLINE' => append_sid(IP_ROOT_PATH . CMS_PAGE_VIEWONLINE),
	'U_DRAFTS' => append_sid(IP_ROOT_PATH . 'drafts.' . PHP_EXT),
	'U_ALBUM' => append_sid(IP_ROOT_PATH . CMS_PAGE_ALBUM),
	'U_CALENDAR' => append_sid(IP_ROOT_PATH . CMS_PAGE_CALENDAR),
	'U_DOWNLOADS_NAV' => append_sid(IP_ROOT_PATH . CMS_PAGE_DL_DEFAULT),
	'U_DOWNLOADS' => append_sid(IP_ROOT_PATH . CMS_PAGE_DLOAD),
	'U_DOWNLOADS_ADV' => append_sid(IP_ROOT_PATH . CMS_PAGE_DOWNLOADS),
	'U_LINKS' => append_sid(IP_ROOT_PATH . CMS_PAGE_LINKS),
	'U_CREDITS' => append_sid(IP_ROOT_PATH . CMS_PAGE_CREDITS),
	'U_STATISTICS' => append_sid(IP_ROOT_PATH . CMS_PAGE_STATISTICS),
	'U_WORDGRAPH' => append_sid(IP_ROOT_PATH . 'wordgraph.' . PHP_EXT),
	'U_ACRONYMS' => append_sid(IP_ROOT_PATH . 'acronyms.' . PHP_EXT),
	'U_AJAX_SHOUTBOX' => append_sid(IP_ROOT_PATH . 'ajax_chat.' . PHP_EXT),
	'U_AJAX_SHOUTBOX_PP' => append_sid(IP_ROOT_PATH . 'ajax_shoutbox.' . PHP_EXT),
	'U_DELETE_COOKIES' => append_sid(IP_ROOT_PATH . 'remove_cookies.' . PHP_EXT),
	'U_CONTACT_US' => append_sid(IP_ROOT_PATH . 'contact_us.' . PHP_EXT),
	'U_UPLOAD_IMAGE' => append_sid(IP_ROOT_PATH . 'upload.' . PHP_EXT),
	'U_UPLOADED_IMAGES' => append_sid(IP_ROOT_PATH . 'posted_img_list.' . PHP_EXT),
	'U_ATTACH_RULES' => 'attach_rules.' . PHP_EXT . '?' . POST_FORUM_URL . '=',
	'U_SITEMAP' => append_sid(IP_ROOT_PATH . 'sitemap.' . PHP_EXT),
	'U_DIGESTS' => append_sid(IP_ROOT_PATH . 'digests.' . PHP_EXT),
	'U_SUDOKU' => append_sid(IP_ROOT_PATH . 'sudoku.' . PHP_EXT),

	'RSS_NEWS_HELP' => '<a href="javascript:rss_news_help()">' . $lang['Rss_news_help'] . '</a>',
	// LINKS - END
	)
);

?>